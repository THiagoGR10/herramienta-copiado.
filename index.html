<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asistente de Copiado Multilingüe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Estilo para el textarea temporal que se usa para copiar */
        .temp-textarea {
            position: absolute;
            left: -9999px;
            top: 0;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        
        <!-- Encabezado -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">Asistente de Copiado Multilingüe</h1>
            <p class="mt-2 text-lg text-gray-600">Guarda tus textos y cópialos con un clic o con atajos de teclado.</p>
        </header>

        <!-- Contenedor principal de las tarjetas de idioma -->
        <main id="language-sections" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">

            <!-- Tarjeta de Idioma: Español -->
            <div class="language-card bg-white p-6 rounded-xl shadow-md border border-gray-200">
                <h2 class="text-2xl font-semibold mb-6 text-center text-blue-600">Español</h2>
                <div class="space-y-6">
                     <!-- Campo de Texto Bono CON -->
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <label for="es-bono-con" class="block text-sm font-medium text-gray-700">Bono CON operación Nexus</label>
                            <kbd class="text-xs font-sans font-semibold text-gray-500 bg-gray-200 px-2 py-1 rounded">Ctrl + 1</kbd>
                        </div>
                        <textarea id="es-bono-con" rows="6" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
                        <button data-target="es-bono-con" class="copy-btn mt-2 w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 active:bg-blue-700 transition-all duration-200 font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Copiar Bono CON</button>
                    </div>
                     <!-- Campo de Texto Bono SIN -->
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <label for="es-bono-sin" class="block text-sm font-medium text-gray-700">Bono SIN operación Nexus</label>
                             <kbd class="text-xs font-sans font-semibold text-gray-500 bg-gray-200 px-2 py-1 rounded">Alt + 1</kbd>
                        </div>
                        <textarea id="es-bono-sin" rows="6" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
                        <button data-target="es-bono-sin" class="copy-btn mt-2 w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 active:bg-blue-700 transition-all duration-200 font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Copiar Bono SIN</button>
                    </div>
                </div>
            </div>

            <!-- Tarjeta de Idioma: Inglés -->
            <div class="language-card bg-white p-6 rounded-xl shadow-md border border-gray-200">
                <h2 class="text-2xl font-semibold mb-6 text-center text-green-600">Inglés</h2>
                <div class="space-y-6">
                    <!-- Campo de Texto Bono CON -->
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <label for="en-bono-con" class="block text-sm font-medium text-gray-700">Bonus WITH Nexus operation</label>
                            <kbd class="text-xs font-sans font-semibold text-gray-500 bg-gray-200 px-2 py-1 rounded">Ctrl + 2</kbd>
                        </div>
                        <textarea id="en-bono-con" rows="6" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"></textarea>
                        <button data-target="en-bono-con" class="copy-btn mt-2 w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 active:bg-green-700 transition-all duration-200 font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">Copy Bonus WITH</button>
                    </div>
                    <!-- Campo de Texto Bono SIN -->
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <label for="en-bono-sin" class="block text-sm font-medium text-gray-700">Bonus WITHOUT Nexus operation</label>
                            <kbd class="text-xs font-sans font-semibold text-gray-500 bg-gray-200 px-2 py-1 rounded">Alt + 2</kbd>
                        </div>
                        <textarea id="en-bono-sin" rows="6" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition"></textarea>
                        <button data-target="en-bono-sin" class="copy-btn mt-2 w-full bg-green-500 text-white py-2 px-4 rounded-lg hover:bg-green-600 active:bg-green-700 transition-all duration-200 font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">Copy Bonus WITHOUT</button>
                    </div>
                </div>
            </div>

            <!-- Tarjeta de Idioma: Francés -->
            <div class="language-card bg-white p-6 rounded-xl shadow-md border border-gray-200">
                <h2 class="text-2xl font-semibold mb-6 text-center text-red-600">Francés</h2>
                <div class="space-y-6">
                    <!-- Campo de Texto Bono CON -->
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <label for="fr-bono-con" class="block text-sm font-medium text-gray-700">Bonus AVEC opération Nexus</label>
                            <kbd class="text-xs font-sans font-semibold text-gray-500 bg-gray-200 px-2 py-1 rounded">Ctrl + 3</kbd>
                        </div>
                        <textarea id="fr-bono-con" rows="6" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition"></textarea>
                        <button data-target="fr-bono-con" class="copy-btn mt-2 w-full bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 active:bg-red-700 transition-all duration-200 font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">Copier Bonus AVEC</button>
                    </div>
                    <!-- Campo de Texto Bono SIN -->
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <label for="fr-bono-sin" class="block text-sm font-medium text-gray-700">Bonus SANS opération Nexus</label>
                            <kbd class="text-xs font-sans font-semibold text-gray-500 bg-gray-200 px-2 py-1 rounded">Alt + 3</kbd>
                        </div>
                        <textarea id="fr-bono-sin" rows="6" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition"></textarea>
                        <button data-target="fr-bono-sin" class="copy-btn mt-2 w-full bg-red-500 text-white py-2 px-4 rounded-lg hover:bg-red-600 active:bg-red-700 transition-all duration-200 font-semibold focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">Copier Bonus SANS</button>
                    </div>
                </div>
            </div>

        </main>

        <footer class="text-center mt-8">
             <p class="text-sm text-gray-500 mt-4">Hecho para simplificar tu flujo de trabajo.</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const copyButtons = document.querySelectorAll('.copy-btn');
            const textareas = document.querySelectorAll('textarea');

            // --- 1. GUARDADO AUTOMÁTICO EN LOCALSTORAGE ---

            // Cargar los textos guardados al iniciar la página
            const loadTexts = () => {
                textareas.forEach(textarea => {
                    const savedText = localStorage.getItem(textarea.id);
                    if (savedText) {
                        textarea.value = savedText;
                    }
                });
            };

            // Guardar el texto en tiempo real mientras el usuario escribe
            textareas.forEach(textarea => {
                textarea.addEventListener('input', () => {
                    localStorage.setItem(textarea.id, textarea.value);
                });
            });

            // --- 2. FUNCIONALIDAD DE COPIADO (CLIC) ---

            copyButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    copyTextFrom(targetId, button);
                });
            });
            
            // --- 3. ATAJOS DE TECLADO ---
            
            document.addEventListener('keydown', (e) => {
                let targetId = null;

                // Atajos con CTRL para "CON Nexus"
                if (e.ctrlKey) {
                    switch (e.key) {
                        case '1': targetId = 'es-bono-con'; break;
                        case '2': targetId = 'en-bono-con'; break;
                        case '3': targetId = 'fr-bono-con'; break;
                    }
                }
                // Atajos con ALT para "SIN Nexus"
                else if (e.altKey) {
                    switch (e.key) {
                        case '1': targetId = 'es-bono-sin'; break;
                        case '2': targetId = 'en-bono-sin'; break;
                        case '3': targetId = 'fr-bono-sin'; break;
                    }
                }

                if (targetId) {
                    e.preventDefault(); // Prevenir acciones por defecto del navegador (ej. abrir menús)
                    const button = document.querySelector(`button[data-target="${targetId}"]`);
                    copyTextFrom(targetId, button);
                }
            });

            // --- FUNCIÓN CENTRALIZADA PARA COPIAR ---

            /**
             * Copia el texto de un textarea específico y muestra feedback en el botón.
             * @param {string} targetId - El ID del textarea del cual copiar.
             * @param {HTMLElement} button - El botón que activó la acción.
             */
            const copyTextFrom = (targetId, button) => {
                const targetTextarea = document.getElementById(targetId);
                const textToCopy = targetTextarea.value;

                if (!textToCopy) {
                    showFeedback(button, '¡Vacío!', true);
                    return;
                }

                const tempTextArea = document.createElement('textarea');
                tempTextArea.value = textToCopy;
                tempTextArea.classList.add('temp-textarea');
                document.body.appendChild(tempTextArea);
                
                tempTextArea.select();
                try {
                    document.execCommand('copy');
                    showFeedback(button, '¡Copiado!', false);
                } catch (err) {
                    console.error('Error al intentar copiar el texto: ', err);
                    showFeedback(button, 'Error', true);
                }

                document.body.removeChild(tempTextArea);
            };

            /**
             * Muestra feedback visual en el botón después de una acción.
             * @param {HTMLElement} button - El botón que fue presionado.
             * @param {string} message - El mensaje a mostrar.
             * @param {boolean} isError - Si el mensaje es un error.
             */
            function showFeedback(button, message, isError = false) {
                const originalText = button.textContent;
                if (button.disabled) return; // Evitar múltiples clics rápidos
                
                button.disabled = true;
                button.textContent = message;

                const originalColorClass = button.className.match(/bg-\w+-\d+/)[0];
                button.classList.remove(originalColorClass);
                button.classList.add(isError ? 'bg-red-500' : 'bg-green-500');

                setTimeout(() => {
                    button.textContent = originalText;
                    button.classList.remove(isError ? 'bg-red-500' : 'bg-green-500');
                    button.classList.add(originalColorClass);
                    button.disabled = false;
                }, 1500); // El mensaje de feedback dura 1.5 segundos
            }

            // Cargar textos al iniciar
            loadTexts();
        });
    </script>

</body>
</html>